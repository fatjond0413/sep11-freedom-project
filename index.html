<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="style.css" rel="stylesheet" type="text/css" />
        <style>
            /* CSS */

        </style>

        <title>Title</title>
    </head>
    <body>
       <script type="module">

// import kaboom.js
import kaboom from "https://unpkg.com/kaboom@3000.0.1/dist/kaboom.mjs";

// initialize kaboom context
kaboom({
    background: [141, 183, 255],
})

// add a piece of text at position (120, 80)
add([
    text("You are stealing from an evil organization, do not bumb into any ghost, the CEOs right hand man or him and get the gold coin"),
    pos(120,380),
]);

loadSprite("grass", "sprites/grass.png"),
loadSprite("smile", "sprites/Screenshot 2025-05-21 5.57.26 PM.png"),
loadSprite("bean", "sprites/bean.png"),
loadSprite("spike", "sprites/spike.png"),
loadSprite("ghost", "sprites/ghosty.png"),
loadSprite("door", "sprites/door.png"),
loadSprite("goon", "sprites/Screenshot 2025-05-21 5.59.32 PM.png"),
loadSprite("cowman","sprites/Screenshot 2025-05-22 10.16.02 AM.png"),
loadSprite("boss", "sprites/Screenshot 2025-05-22 10.11.29 AM.png"),
loadSprite("coin", "sprites/coin.png"),

setGravity(1500)

  const time = 60
  const level = addLevel([
    "                                                                                                     ",
    " ",
    "                                                                                                        -",
	"-@                                               g                                            -   -   -     -",
    "-                                              -----   --                                     -- - -        - ",
    "-                                           -                              -                  -  -        - ",
    "-                                          -                                                    - -         -",
    "-       ----       -  -                 -                          -     -               -^   -  -           ",
    "-        g   -  g  -^^-^^^^^     g    -                   - ggg                7     ^   -      -       b    $",
    "-------- --    -----------------------                    ------  -            -    ---  -       -------------",
    "^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"],

   {
    tileWidth: 64,
    tileHeight: 64,
    pos: vec2(100, 200),
    tiles: {
        "@": () => [
			sprite("bean"),
			area(),
			body(),
			anchor("bot"),
            "player",
		],
          "-": () => [
			sprite("grass"),
			area(),
			body({ isStatic: true }),
			anchor("bot"),
	    ],
        "^": () => [
			sprite("spike"),
			area(),
			anchor("bot"),
			"danger",
		],
        "7": () => [
			sprite("smile"),
			area(),
			anchor("bot"),
            "danger",
		],
        "g": () => [
			sprite("ghost"),
			area(),
			anchor("bot"),
			"danger",
		],
        ")": () => [
			sprite("goon"),
			area(),
			anchor("bot"),
            "enemy",
		],
		"b": () => [
			sprite("boss"),
			area(),
			anchor("bot"),
            "danger",
		],
		"$": () => [
			sprite("coin"),
			area(),
			anchor("bot"),
            "coin",
		],
        "d": () => [
			sprite("door"),
			area(),
			anchor("bot"),
            "danger",
		],
      },
   })



let player = level.get("player")[0]


player.onCollide("danger", () => {
     background[255,255,255]
	})

player.onUpdate(() => {
	camPos(player.worldPos())
})

   onKeyPress("space", () => {
	if (player.isGrounded()) {
		player.jump()
	}
})

let movement = 500


onKeyDown("a", () => player.move(-movement, 0))
onKeyDown("d", () => player.move(movement, 0))




    player.onCollide("coin", (coin) => {
		destroy(coin)
        points += 1
	})

        </script>
    </body>
</html>
