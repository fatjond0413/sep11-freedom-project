<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="style.css" rel="stylesheet" type="text/css" />
        <style>
            /* CSS */

        </style>

        <title>Title</title>
    </head>
    <body>
       <script type="module">

// import kaboom.js
import kaboom from "https://unpkg.com/kaboom@3000.0.1/dist/kaboom.mjs";

// initialize kaboom context
kaboom();

// add a piece of text at position (120, 80)
add([
    text("hello"),
    pos(120, 80),
]);

loadSprite("grass", "/sprites/grass.png")
loadSprite("smile", "/sprites/Screenshot 2025-05-21 5.57.26 PM.png")
loadSprite("bean", "/sprites/bean.png")
loadSprite("spike", "/sprites/spike.png")
loadSprite("ghost", "/sprites/ghosty.png")
loadSprite("door", "/sprites/door.png")
loadSprite("goon", "/sprites/Screenshot 2025-05-21 5.59.32 PM.png")
loadSprite("cowman", "/sprites/Screenshot 2025-05-22 10.16.02 AM.png")
loadSprite("boss", "/sprites/Screenshot 2025-05-22 10.11.29 AM.png")

setGravity(1500)

  const level = addLevel([
	"-@                                                                                       -     b     -",
    "-                                              -----   --                                ---------------",
    "-                                           7-                              -                            -",
    "-                                         -",
    "-       ----       -  -                 -                          -     -               -    -               -",
    "-        0   -     -^^-^^^^^     )    -                                                  d-",
    "-------- --    -----------------------                    -----  -            -    --    -       -     -  ----",
],
   {
    tileWidth: 64,
    tileHeight: 64,
    pos: vec2(100, 200),
    tiles: {
        "@": () => [
			sprite("bean"),
			area(),
			body(),
			anchor("bot"),
            "player",
		],
          "-": () => [
			sprite("grass"),
			area(),
			body({ isStatic: true }),
			anchor("bot"),
	    ],
        "^": () => [
			sprite("spike"),
			area(),
			anchor("bot"),
			"danger",
		],
      },
   })



let player = level.get("player")[0]

player.onCollide("danger", () => {
        background(255,255,255)
        fill(0,0,0)
		text("You died")
	})

player.onUpdate(() => {
	camPos(player.worldPos())
})

   onKeyPress("space", () => {
	if (player.isGrounded()) {
		player.jump()
	}
})

let movement = 500
let enemy_movement = 300
onKeyDown("a", () => player.move(-movement, 0))
onKeyDown("d", () => player.move(movement, 0))

        </script>
    </body>
</html>
